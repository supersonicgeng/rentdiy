webpackJsonp([8],{"31rR":function(t,e,a){"use strict";function i(t){a("u+ux")}Object.defineProperty(e,"__esModule",{value:!0});var r=a("lGJw"),n=a("ngxf"),o=a("VU/8"),c=i,s=o(r.a,n.a,!1,c,"data-v-75feb542",null);e.default=s.exports},R8Ol:function(t,e,a){"use strict";function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}e.a=i},bAMq:function(t,e,a){t.exports=a.p+"static/img/tx.fbd0ed2.png"},l2Oa:function(t,e,a){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.a=i},lGJw:function(t,e,a){"use strict";var i=a("Au9i"),r=(a.n(i),a("Fd2+"),a("mtWM")),n=a.n(r),o=a("tVBO");e.a={data:function(){return{name:"暂无用户名",iconUrl:"",mobile:"暂无手机号",show:!1,id:""}},methods:{handleclick:function(){console.log(1);var t=this;this.$nextTick(function(){t.rc=new o.a(!0),t.rc.start()})},handleclickl:function(){console.log(2);var t=this;this.$nextTick(function(){t.rc=new o.a(!0),t.rc.pause()})},handleclickt:function(){console.log(3),that.rc.close()},handleclickb:function(){console.log(4),that.rc.getRecord()},handleclickb1:function(){console.log(4),that.rc.getRecordWav()},uploadImg:function(t){var e=this,a=t.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return this.$vux.toast.text("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种","middle"),!1;var i=new FileReader;i.readAsDataURL(a),i.onload=function(t){var i={headers:{"Content-Type":"multipart/form-data"}},r=new FormData;r.append("file",a),n.a.post("http://39.105.22.73:8083/admin/file/uploadImage",r,i).then(function(t){console.log("上传文件",t.data.data),e.header_img(t.data.data)}).catch(function(t){console.log(t)})}},list:function(){var t=this;this.$axios.getCurrentUserInfo({}).then(function(e){console.log("用户信息",e),200==e.code?(t.id=e.data.id,t.iconUrl=e.data.iconUrl,t.name=e.data.realName,t.mobile=e.data.mobile.slice(0,3)+"****"+e.data.mobile.slice(7,11)):a.i(i.Toast)(e.message)})},header_img:function(t){var e=this,r={id:this.id,iconUrl:t};this.$axios.updateCurrentUserInfo(r).then(function(t){console.log("修改头像",t),200==t.code?(e.list(),a.i(i.Toast)("修改成功")):a.i(i.Toast)(t.message)})},to:function(t){var e=this;switch(t){case 1:i.MessageBox.prompt("请输入你要修改的姓名 ?","修改姓名").then(function(t){var r=t.value;t.action;if(console.log("修改姓名",r),r){var n={id:e.id,realName:r};e.$axios.updateCurrentUserInfo(n).then(function(t){console.log("修改名称",t),200==t.code?(e.list(),a.i(i.Toast)("修改成功")):a.i(i.Toast)(t.message)})}else a.i(i.Toast)("请输入正确名字")}).catch(function(t){"cancel"==t&&console.log("取消",t)});break;case 2:this.$router.push("/change")}},exit:function(){var t=this;i.MessageBox.confirm("确认退出当前账号吗 ?","提示").then(function(e){console.log(e),t.$axios.token_delete(),localStorage.clear(),t.$router.push("/login"),a.i(i.Toast)("成功退出")}).catch(function(t){})}}}},mjIK:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".addAgricultural[data-v-75feb542]{height:100%;padding-top:.53rem}.addAgricultural .title_box[data-v-75feb542]{width:96%;margin:0 auto}.addAgricultural .title_box .head_img[data-v-75feb542]{text-align:center;background-color:#fff;padding:.53rem 0;border-bottom:1px solid #f5f5f5;border-radius:.28rem .28rem 0 0;position:relative}.addAgricultural .title_box .head_img img[data-v-75feb542]{width:6.4rem;border-radius:50%;height:6.4rem}.addAgricultural .title_box .head_img div[data-v-75feb542]{text-align:center}.addAgricultural .title_box .head_img div .color[data-v-75feb542]{height:1.8rem;line-height:1.8rem;font-size:15px;padding:0}.addAgricultural .title_box .head_img .img_uploader[data-v-75feb542]{position:absolute;top:0;left:30%;border:1px solid #000;opacity:0;background-color:#000;width:40%;height:9.55rem}.addAgricultural .title_box p[data-v-75feb542]{padding:.28rem 5% .28rem .53rem;font-size:15px;margin-bottom:.3rem;position:relative;background-color:#fff;border-radius:.28rem;line-height:2.13rem}.addAgricultural .title_box p img[data-v-75feb542]{position:absolute;right:.96rem;top:.85rem;height:1.06rem}.addAgricultural .title_box p .content1[data-v-75feb542],.addAgricultural .title_box p .content[data-v-75feb542]{display:inline-block;text-align:right;width:82%}.addAgricultural .title_box p .content_img[data-v-75feb542]{height:2.13rem;top:.28rem;right:2.13rem}.addAgricultural .title_box p .content1[data-v-75feb542]{width:78%}.addAgricultural .title_box .p_one[data-v-75feb542]{border-radius:0 0 .28rem .28rem}.addAgricultural .bgc_y[data-v-75feb542]{width:90%;margin:0 5%;margin-top:50%}[data-v-75feb542].mint-msgbox-confirm{color:#f68b02!important}",""])},ngxf:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"addAgricultural"},[i("div",{staticClass:"title_box"},[i("div",{staticClass:"head_img"},[t.iconUrl?i("img",{staticClass:"l_img",attrs:{src:t.iconUrl,alt:""}}):i("img",{staticClass:"l_img",attrs:{src:a("bAMq"),alt:""}}),t._v(" "),t._m(0),t._v(" "),i("input",{staticClass:"img_uploader",attrs:{type:"file",accept:"image/png, image/jpeg, image/gif, image/jpg"},on:{change:function(e){return t.uploadImg(e)}}})])]),t._v(" "),i("button",{staticClass:"button_box bgc_y",on:{click:t.exit}},[t._v("退出登录")]),t._v(" "),i("div",[i("h1",{on:{click:function(e){return t.handleclick()}}},[t._v("开始录音")]),t._v(" "),i("h1",{on:{click:function(e){return t.handleclickl()}}},[t._v("暂停录音")]),t._v(" "),i("h1",{on:{click:function(e){return t.handleclickt()}}},[t._v("结束录音")]),t._v(" "),i("h1",{on:{click:function(e){return t.handleclickb()}}},[t._v("获取pcm录音")]),t._v(" "),i("h1",{on:{click:function(e){return t.handleclickb1()}}},[t._v("获取wav录音")])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"color"},[t._v("更换头像")])])}],n={render:i,staticRenderFns:r};e.a=n},pI4K:function(t,e,a){"use strict";function i(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,a){return e&&i(t.prototype,e),a&&i(t,a),t}e.a=r},tVBO:function(t,e,a){"use strict";function i(t,e){for(var a=new Float32Array(e),i=0,r=0;i<t.length;r+=t[i].length,i+=1)a.set(t[i],r);return a}function r(t,e,a){if(e<a)throw new Error('Invalid parameter: "inputSampleRate" must be greater than "outputSampleRate"');var i=t.length;e+=0,a+=0;for(var r=e/a,n=Math.ceil(i*a/e),o=new Float32Array(n),c=0,s=0;s<n;s+=1)o[s]=t[Math.floor(c)],c+=r;return o}function n(t,e){if(-1===[8,16].indexOf(e))throw new Error('Invalid parameter: "sampleBits" must be 8 or 16');for(var a=t.length*(e/8),i=new ArrayBuffer(a),r=new DataView(i),n=0,o=0;n<t.length;n+=1,o+=e/8){var c=Math.max(-1,Math.min(1,t[n])),s=c<0?32768*c:32767*c;8===e?r.setInt8(o,parseInt(255/(65535/(s+32768)),10),!0):r.setInt16(o,s,!0)}return r.buffer}function o(t,e,a){if(-1===[8,16].indexOf(e))throw new Error('Invalid parameter: "sampleBits" must be 8 or 16');var i=t.length*(e/8),r=new ArrayBuffer(44+i),n=new DataView(r),o=0,c=function(t){for(var e=0;e<t.length;e+=1)n.setUint8(o+e,t.charCodeAt(e))};c("RIFF"),o+=4,n.setUint32(o,36+i,!0),o+=4,c("WAVE"),o+=4,c("fmt "),o+=4,n.setUint32(o,16,!0),o+=4,n.setUint16(o,1,!0),o+=2,n.setUint16(o,1,!0),o+=2,n.setUint32(o,a,!0),o+=4,n.setUint32(o,1*a*(e/8),!0),o+=4,n.setUint16(o,e/8*1,!0),o+=2,n.setUint16(o,e,!0),o+=2,c("data"),o+=4,n.setUint32(o,i,!0),o+=4;for(var s=0;s<t.length;s+=1,o+=e/8){var l=Math.max(-1,Math.min(1,t[s])),u=l<0?32768*l:32767*l;8===e?n.setInt8(o,parseInt(255/(65535/(u+32768)),10),!0):n.setInt16(o,u,!0)}return new Blob([n],{type:"audio/wav"})}var c=a("l2Oa"),s=a("pI4K"),l=a("R8Ol"),u={recordable:!0,sampleRate:16e3,sampleBits:16,bufferSize:16384},d={READY:0,RECORDING:1},f={RAW:"raw",PCM:"pcm",WAV:"wav"},h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,i=e.recordable,r=void 0===i?u.recordable:i,n=e.bufferSize,o=void 0===n?u.bufferSize:n,s=e.sampleRate,f=void 0===s?u.sampleRate:s,h=e.sampleBits,g=void 0===h?u.sampleBits:h;a.i(c.a)(this,t),a.i(l.a)(this,"state",d.READY),a.i(l.a)(this,"ctx",new(window.AudioContext||window.webkitAudioContext)),a.i(l.a)(this,"sampleRate",u.sampleRate),a.i(l.a)(this,"sampleBits",u.sampleBits),a.i(l.a)(this,"recordable",u.recordable),a.i(l.a)(this,"recorder",null),a.i(l.a)(this,"source",null),a.i(l.a)(this,"stream",null),a.i(l.a)(this,"buffer",[]),a.i(l.a)(this,"bufferSize",0);var m=this.ctx,v=m.createScriptProcessor||m.createJavaScriptNode;this.recorder=v.call(m,o,1,1),this.recordable=r,this.sampleRate=f,this.sampleBits=g}return a.i(s.a)(t,[{key:"start",value:function(t){var e=this;return this.ctx.resume(),new Promise(function(a,i){navigator.mediaDevices.getUserMedia({audio:!0}).then(function(i){var r=e.recorder,n=e.ctx.createMediaStreamSource(i);e.stream=i,e.source=n,r.onaudioprocess=function(a){var i=a.inputBuffer.getChannelData(0);e.recordable&&(e.buffer.push(i.slice(0)),e.bufferSize+=i.length),"function"==typeof t&&t(i)},n.connect(r),r.connect(e.ctx.destination),e.state=d.RECORDING,a(i)}).catch(function(t){i(t)})})}},{key:"pause",value:function(){this.stream.getAudioTracks()[0].stop(),this.recorder.disconnect(),this.source.disconnect(),this.ctx.suspend(),this.state=d.READY}},{key:"clear",value:function(){this.buffer=[],this.bufferSize=0}},{key:"getRecord",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{encodeTo:f.RAW,compressible:!1},e=t.encodeTo,a=void 0===e?f.RAW:e,c=t.compressible,s=void 0!==c&&c;if(this.recordable){var l=i(this.buffer,this.bufferSize),u=this.ctx.sampleRate;s=s&&this.sampleRate<u;var d=s?this.sampleRate:u;switch(s&&(l=r(l,u,d)),a){case f.RAW:return l;case f.PCM:return n(l,this.sampleBits);case f.WAV:return o(l,this.sampleBits,d);default:throw new Error('Invalid parameter: "encodeTo" must be ENCODE_TYPE')}}throw new Error('Configuration error: "recordable" must be set to true')}}]),t}();!function(){void 0!==window&&void 0!==navigator&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(t){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return e?new Promise(function(a,i){e.call(navigator,t,a,i)}):Promise.reject(new Error("getUserMedia is not implemented in this environment"))}))}();e.a=h},"u+ux":function(t,e,a){var i=a("mjIK");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("2e50ecb3",i,!0,{})}});